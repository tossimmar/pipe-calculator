<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipe Measurement Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        .container {
            display: inline-block;
            text-align: left;
        }
        .input-group {
            margin-bottom: 10px;
        }
        input {
            width: 80px;
            padding: 5px;
            font-size: 16px;
            text-align: center;
        }
        button {
            margin-top: 10px;
            padding: 8px 15px;
            font-size: 16px;
        }
        .triangle {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <h2>Pipe Measurement Calculator</h2>

    <div class="triangle">
        <svg width="200" height="200">
            <!-- Triangle -->
            <polygon points="20,180 180,180 180,20" stroke="black" fill="none" stroke-width="2"/>
            <!-- Labels -->
            <text x="100" y="190" font-size="16" text-anchor="middle">a</text>
            <text x="190" y="100" font-size="16" text-anchor="middle">b</text>
            <text x="100" y="100" font-size="16" text-anchor="middle">c</text>
            <text x="35" y="175" font-size="16" fill="black">α</text>
            <text x="168" y="45" font-size="16" fill="black">β</text>
        </svg>
    </div>

    <div class="container">
        <div class="input-group">
            <label for="a">a:</label>
            <input type="number" id="a" step="any">
        </div>
        <div class="input-group">
            <label for="b">b:</label>
            <input type="number" id="b" step="any">
        </div>
        <div class="input-group">
            <label for="c">c:</label>
            <input type="number" id="c" step="any">
        </div>
        <div class="input-group">
            <label for="alpha">α:</label>
            <input type="number" id="alpha" step="any">
        </div>
        <div class="input-group">
            <label for="beta">β:</label>
            <input type="number" id="beta" step="any">
        </div>
        <button onclick="calculate()">Calculate</button>
        <button onclick="clearFields()">Clear</button>

        <h3>Results:</h3>
        <p id="result"></p>
    </div>

    <script>
        function decimalToSixteenths(value) {
            let whole = Math.floor(value);
            let fraction = Math.round((value - whole) * 16);
            
            if (fraction === 16) {
                whole += 1;
                fraction = 0;
            }

            if (fraction === 0) return `${whole}`;
            return `${whole} ${fraction}/16`;
        }

        function calculate() {
            let a = parseFloat(document.getElementById("a").value);
            let b = parseFloat(document.getElementById("b").value);
            let c = parseFloat(document.getElementById("c").value);
            let alpha = parseFloat(document.getElementById("alpha").value);
            let beta = parseFloat(document.getElementById("beta").value);
            
            let knownValues = [a, b, c, alpha, beta].filter(v => !isNaN(v)).length;
            if (knownValues < 2) {
                document.getElementById("result").innerText = "Please enter at least two values.";
                return;
            }

            if (!isNaN(alpha)) beta = 90 - alpha;
            if (!isNaN(beta)) alpha = 90 - beta;
            if (!isNaN(a) && !isNaN(beta)) b = a * Math.tan(beta * Math.PI / 180);
            if (!isNaN(b) && !isNaN(alpha)) a = b * Math.tan(alpha * Math.PI / 180);
            if (!isNaN(a) && !isNaN(b)) c = Math.sqrt(a**2 + b**2);

            document.getElementById("a").value = isNaN(a) ? "" : a.toFixed(4);
            document.getElementById("b").value = isNaN(b) ? "" : b.toFixed(4);
            document.getElementById("c").value = isNaN(c) ? "" : c.toFixed(4);
            document.getElementById("alpha").value = isNaN(alpha) ? "" : alpha.toFixed(4);
            document.getElementById("beta").value = isNaN(beta) ? "" : beta.toFixed(4);

            let a_str = isNaN(a) ? "N/A" : decimalToSixteenths(a);
            let b_str = isNaN(b) ? "N/A" : decimalToSixteenths(b);
            let c_str = isNaN(c) ? "N/A" : decimalToSixteenths(c);

            document.getElementById("result").innerHTML = `a: ${a_str} inches <br> 
                                                           b: ${b_str} inches <br> 
                                                           c: ${c_str} inches`;
        }

        function clearFields() {
            document.getElementById("a").value = "";
            document.getElementById("b").value = "";
            document.getElementById("c").value = "";
            document.getElementById("alpha").value = "";
            document.getElementById("beta").value = "";
            document.getElementById("result").innerText = "";
        }
    </script>

</body>
</html>

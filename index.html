<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipe Measurement Calculator</title>
    <script>
        function calculate() {
            let a = parseFloat(document.getElementById('a').value);
            let b = parseFloat(document.getElementById('b').value);
            let c = parseFloat(document.getElementById('c').value);
            let angle = parseFloat(document.getElementById('angle').value);
            
            let count = [a, b, c, angle].filter(v => !isNaN(v)).length;

            if (count < 2) {
                return; // Don't calculate unless at least two values are provided
            }

            if (!isNaN(a) && !isNaN(b)) {
                c = Math.sqrt(a * a + b * b);
                angle = Math.atan2(b, a) * (180 / Math.PI);
            } else if (!isNaN(a) && !isNaN(c)) {
                b = Math.sqrt(c * c - a * a);
                angle = Math.atan2(b, a) * (180 / Math.PI);
            } else if (!isNaN(b) && !isNaN(c)) {
                a = Math.sqrt(c * c - b * b);
                angle = Math.atan2(b, a) * (180 / Math.PI);
            } else if (!isNaN(a) && !isNaN(angle)) {
                let rad = angle * (Math.PI / 180);
                b = a * Math.tan(rad);
                c = Math.sqrt(a * a + b * b);
            } else {
                return; // Invalid case, do nothing
            }

            document.getElementById('a').value = a.toFixed(2);
            document.getElementById('b').value = b.toFixed(2);
            document.getElementById('c').value = c.toFixed(2);
            document.getElementById('angle').value = angle.toFixed(2);
        }

        function checkInitialPrompt() {
            let a = document.getElementById('a').value;
            let b = document.getElementById('b').value;
            let c = document.getElementById('c').value;
            let angle = document.getElementById('angle').value;
            
            let count = [a, b, c, angle].filter(v => v.trim() !== "").length;
            if (count < 2) {
                alert("Enter at least two values to perform calculations.");
            }
        }

        function clearFields() {
            document.getElementById('a').value = "";
            document.getElementById('b').value = "";
            document.getElementById('c').value = "";
            document.getElementById('angle').value = "";
            checkInitialPrompt();
        }

        window.onload = checkInitialPrompt;
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 20px;
        }
        svg {
            width: 300px;
            margin-bottom: 20px;
        }
        input {
            width: 100px;
            margin: 5px;
        }
    </style>
</head>
<body>
    <h2>Pipe Measurement Calculator</h2>
    <!-- Labeled Right Triangle SVG -->
    <svg viewBox="0 0 200 200">
        <!-- Triangle -->
        <polygon points="20,180 180,180 180,20" fill="none" stroke="black" stroke-width="2"/>
        <!-- Labels -->
        <text x="100" y="195" font-size="14" text-anchor="middle">a</text>
        <text x="185" y="100" font-size="14">b</text>
        <text x="100" y="90" font-size="14" text-anchor="middle">c</text>
        <text x="165" y="175" font-size="14" text-anchor="middle">Î¸</text>
    </svg>
    <br>
    <label>a: <input type="number" id="a" oninput="calculate()"></label><br>
    <label>b: <input type="number" id="b" oninput="calculate()"></label><br>
    <label>c: <input type="number" id="c" oninput="calculate()"></label><br>
    <label>Angle (degrees): <input type="number" id="angle" oninput="calculate()"></label><br>
    <button onclick="clearFields()">Clear</button>
</body>
</html>

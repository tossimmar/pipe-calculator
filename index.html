<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipe Measurement Calculator</title>
    <script>
        function calculate() {
            let a = parseFloat(document.getElementById('a').value);
            let b = parseFloat(document.getElementById('b').value);
            let c = parseFloat(document.getElementById('c').value);
            let alpha = parseFloat(document.getElementById('alpha').value);
            let beta = parseFloat(document.getElementById('beta').value);

            let count = [a, b, c, alpha, beta].filter(v => !isNaN(v)).length;
            if (count < 2) return; // Require at least two values

            if (!isNaN(a) && !isNaN(b)) {
                c = Math.sqrt(a * a + b * b);
                alpha = Math.atan2(b, a) * (180 / Math.PI);
                beta = 90 - alpha;
            } else if (!isNaN(a) && !isNaN(c)) {
                if (a >= c) return; // Invalid case
                b = Math.sqrt(c * c - a * a);
                alpha = Math.acos(a / c) * (180 / Math.PI);
                beta = 90 - alpha;
            } else if (!isNaN(b) && !isNaN(c)) {
                if (b >= c) return; // Invalid case
                a = Math.sqrt(c * c - b * b);
                beta = Math.asin(b / c) * (180 / Math.PI);
                alpha = 90 - beta;
            } else if (!isNaN(alpha) && !isNaN(beta)) {
                if (Math.abs(alpha + beta - 90) > 0.01) return; // Must sum to 90°
            } else if (!isNaN(alpha) && !isNaN(c)) {
                a = c * Math.cos(alpha * (Math.PI / 180));
                b = c * Math.sin(alpha * (Math.PI / 180));
                beta = 90 - alpha;
            } else if (!isNaN(beta) && !isNaN(c)) {
                b = c * Math.sin(beta * (Math.PI / 180));
                a = c * Math.cos(beta * (Math.PI / 180));
                alpha = 90 - beta;
            } else {
                return; // Invalid case
            }

            document.getElementById('a').value = a.toFixed(2);
            document.getElementById('b').value = b.toFixed(2);
            document.getElementById('c').value = c.toFixed(2);
            document.getElementById('alpha').value = alpha.toFixed(2);
            document.getElementById('beta').value = beta.toFixed(2);
        }

        function checkInitialPrompt() {
            let inputs = ["a", "b", "c", "alpha", "beta"].map(id => document.getElementById(id).value.trim());
            if (inputs.filter(v => v !== "").length < 2) {
                alert("Enter at least two values to perform calculations.");
            }
        }

        function clearFields() {
            ["a", "b", "c", "alpha", "beta"].forEach(id => document.getElementById(id).value = "");
            checkInitialPrompt();
        }

        window.onload = checkInitialPrompt;
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 20px;
        }
        svg {
            width: 300px;
            margin-bottom: 20px;
        }
        input {
            width: 100px;
            margin: 5px;
        }
    </style>
</head>
<body>
    <h2>Pipe Measurement Calculator</h2>
    <!-- Labeled Right Triangle SVG -->
    <svg viewBox="0 0 200 200">
        <!-- Triangle -->
        <polygon points="20,180 180,180 180,20" fill="none" stroke="black" stroke-width="2"/>
        <!-- Labels -->
        <text x="100" y="195" font-size="14" text-anchor="middle">a</text> <!-- Base -->
        <text x="185" y="100" font-size="14">b</text> <!-- Height -->
        <text x="100" y="90" font-size="14" text-anchor="middle">c</text> <!-- Hypotenuse -->
        <text x="30" y="170" font-size="14" text-anchor="middle">α</text> <!-- Alpha at bottom-left -->
        <text x="160" y="40" font-size="14" text-anchor="middle">β</text> <!-- Beta at top-right -->
    </svg>
    <br>
    <label>a: <input type="number" id="a" oninput="calculate()"></label><br>
    <label>b: <input type="number" id="b" oninput="calculate()"></label><br>
    <label>c: <input type="number" id="c" oninput="calculate()"></label><br>
    <label>α (degrees): <input type="number" id="alpha" oninput="calculate()"></label><br>
    <label>β (degrees): <input type="number" id="beta" oninput="calculate()"></label><br>
    <button onclick="clearFields()">Clear</button>
</body>
</html>

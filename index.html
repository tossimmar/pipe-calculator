<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pipe Measuring Tool</title>
    <style>
        input { margin: 5px; }
        button { margin-top: 10px; display: block; }
    </style>
</head>
<body>
    <h2>Pipe Measuring Tool</h2>
    
    <svg width="200" height="200">
        <!-- Triangle -->
        <polygon points="20,180 180,180 180,20" stroke="black" fill="none" stroke-width="2" />
        
        <!-- Labels -->
        <text x="100" y="195" font-size="14">a</text>
        <text x="185" y="100" font-size="14">b</text>
        <text x="90" y="100" font-size="14">c</text>
        <text x="35" y="175" font-size="14">α</text>
        <text x="168" y="45" font-size="14">β</text>
    </svg>
    
    <label>a: <input type="number" id="a" step="any"></label>
    <label>b: <input type="number" id="b" step="any"></label>
    <label>c: <input type="number" id="c" step="any"></label>
    <label>Alpha: <input type="number" id="alpha" step="any"></label>
    <label>Beta: <input type="number" id="beta" step="any"></label>
    
    <button onclick="calculate()">Calculate</button>
    <button onclick="clearFields()">Clear</button>
    
    <script>
        function roundToSixteenths(value) {
            let whole = Math.floor(value);
            let fractional = value - whole;
            let sixteenths = Math.round(fractional * 16);
            if (sixteenths === 16) { whole += 1; sixteenths = 0; }
            return sixteenths === 0 ? `${whole}` : `${whole} ${sixteenths}/16`;
        }

        function calculate() {
            let a = parseFloat(document.getElementById("a").value) || null;
            let b = parseFloat(document.getElementById("b").value) || null;
            let c = parseFloat(document.getElementById("c").value) || null;
            let alpha = parseFloat(document.getElementById("alpha").value) || null;
            let beta = parseFloat(document.getElementById("beta").value) || null;
            
            if ([a, b, c, alpha, beta].filter(v => v !== null).length < 2) {
                alert("Please enter at least two values.");
                return;
            }
            
            const toRadians = angle => angle * (Math.PI / 180);
            const toDegrees = angle => angle * (180 / Math.PI);
            
            if (alpha !== null && beta === null) beta = 90 - alpha;
            if (beta !== null && alpha === null) alpha = 90 - beta;
            
            if (a !== null && beta !== null) {
                b = a * Math.tan(toRadians(beta));
                c = a / Math.cos(toRadians(beta));
            }
            if (b !== null && alpha !== null) {
                a = b * Math.tan(toRadians(alpha));
                c = b / Math.sin(toRadians(alpha));
            }
            if (c !== null && alpha !== null) {
                a = c * Math.cos(toRadians(alpha));
                b = c * Math.sin(toRadians(alpha));
            }
            
            if (a !== null) document.getElementById("a").value = roundToSixteenths(a);
            if (b !== null) document.getElementById("b").value = roundToSixteenths(b);
            if (c !== null) document.getElementById("c").value = roundToSixteenths(c);
            if (alpha !== null) document.getElementById("alpha").value = alpha.toFixed(2);
            if (beta !== null) document.getElementById("beta").value = beta.toFixed(2);
        }
        
        function clearFields() {
            document.getElementById("a").value = "";
            document.getElementById("b").value = "";
            document.getElementById("c").value = "";
            document.getElementById("alpha").value = "";
            document.getElementById("beta").value = "";
        }
    </script>
</body>
</html>
